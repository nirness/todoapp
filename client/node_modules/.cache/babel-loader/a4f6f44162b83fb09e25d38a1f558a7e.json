{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nimport thunkPromiseHandler from \"../../scripts/thunkPromiseHandler\";\nexport const thunks = {\n  register: createAsyncThunk(\"users/register\", async (form, thunkAPI) => thunkPromiseHandler(axios.post(\"/api/users/register\", form), thunkAPI)),\n  login: createAsyncThunk(\"users/login\", async (form, thunkAPI) => thunkPromiseHandler(axios.post(\"/api/users/login\", form), thunkAPI))\n};\nexport const {\n  reducer,\n  actions\n} = createSlice({\n  name: \"users\",\n  initialState: {\n    isLoading: false,\n    user: null //{ email: \"niro@gmail.com\" }\n\n  },\n  reducers: {\n    logout() {//define later\n    }\n\n  },\n\n  extraReducers(_ref) {\n    let {\n      addCase\n    } = _ref;\n  }\n\n});\naddCase(thunks.register.fulfilled, (state, _ref2) => {\n  let {\n    payload: user\n  } = _ref2;\n  state.isLoading = false;\n  state.user = user;\n});\naddCase(thunks.register.rejected, (state, _ref3) => {\n  let {\n    payload: errorMessage\n  } = _ref3;\n  alert(\"Error\", errorMessage);\n  state.isLoading = false;\n});\naddCase(thunks.register.pending, state => {\n  state.isLoading = true;\n});\naddCase(thunks.login.fulfilled, (state, _ref4) => {\n  let {\n    payload: user\n  } = _ref4;\n  state.isLoading = false;\n  state.user = user;\n});\naddCase(thunks.login.rejected, (state, _ref5) => {\n  let {\n    payload: errorMessage\n  } = _ref5;\n  alert(\"Error\", errorMessage);\n  state.isLoading = false;\n});\naddCase(thunks.login.pending, state => {\n  state.isLoading = true;\n});","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","thunkPromiseHandler","thunks","register","form","thunkAPI","post","login","reducer","actions","name","initialState","isLoading","user","reducers","logout","extraReducers","addCase","fulfilled","state","payload","rejected","errorMessage","alert","pending"],"sources":["/Users/nirness/Desktop/mern-todos-application/client/src/global/slices/usersSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\"\nimport  axios from \"axios\"\nimport thunkPromiseHandler from \"../../scripts/thunkPromiseHandler\"\n\nexport const thunks = {\n    register: createAsyncThunk(\"users/register\", async (form, thunkAPI) => (\n        thunkPromiseHandler(axios.post(\"/api/users/register\", form), thunkAPI)\n    )),\n    login: createAsyncThunk(\"users/login\", async (form, thunkAPI) => (\n        thunkPromiseHandler(axios.post(\"/api/users/login\", form), thunkAPI)\n    ))\n}\n\nexport const { reducer, actions } = createSlice({\n    name: \"users\", \n    initialState : {\n        isLoading : false, \n        user : null //{ email: \"niro@gmail.com\" }\n    },\n    reducers : {\n        logout() {\n            //define later\n        }\n    },\n    extraReducers({ addCase }) {\n\n    }\n})\n\naddCase(thunks.register.fulfilled, (state, { payload:user }) => {\n    state.isLoading = false\n    state.user = user\n}) \naddCase(thunks.register.rejected, (state, { payload:errorMessage }) => {\n    alert(\"Error\", errorMessage)\n    state.isLoading = false\n}) \naddCase(thunks.register.pending, (state) => {\n    state.isLoading = true\n}) \naddCase(thunks.login.fulfilled, (state, { payload:user }) => {\n    state.isLoading = false\n    state.user = user\n}) \naddCase(thunks.login.rejected, (state, { payload:errorMessage }) => {\n    alert(\"Error\", errorMessage)\n    state.isLoading = false\n})\naddCase(thunks.login.pending, (state) => {\n    state.isLoading = true\n}) "],"mappings":"AAAA,SAASA,WAAT,EAAsBC,gBAAtB,QAA8C,kBAA9C;AACA,OAAQC,KAAR,MAAmB,OAAnB;AACA,OAAOC,mBAAP,MAAgC,mCAAhC;AAEA,OAAO,MAAMC,MAAM,GAAG;EAClBC,QAAQ,EAAEJ,gBAAgB,CAAC,gBAAD,EAAmB,OAAOK,IAAP,EAAaC,QAAb,KACzCJ,mBAAmB,CAACD,KAAK,CAACM,IAAN,CAAW,qBAAX,EAAkCF,IAAlC,CAAD,EAA0CC,QAA1C,CADG,CADR;EAIlBE,KAAK,EAAER,gBAAgB,CAAC,aAAD,EAAgB,OAAOK,IAAP,EAAaC,QAAb,KACnCJ,mBAAmB,CAACD,KAAK,CAACM,IAAN,CAAW,kBAAX,EAA+BF,IAA/B,CAAD,EAAuCC,QAAvC,CADA;AAJL,CAAf;AASP,OAAO,MAAM;EAAEG,OAAF;EAAWC;AAAX,IAAuBX,WAAW,CAAC;EAC5CY,IAAI,EAAE,OADsC;EAE5CC,YAAY,EAAG;IACXC,SAAS,EAAG,KADD;IAEXC,IAAI,EAAG,IAFI,CAEC;;EAFD,CAF6B;EAM5CC,QAAQ,EAAG;IACPC,MAAM,GAAG,CACL;IACH;;EAHM,CANiC;;EAW5CC,aAAa,OAAc;IAAA,IAAb;MAAEC;IAAF,CAAa;EAE1B;;AAb2C,CAAD,CAAxC;AAgBPA,OAAO,CAACf,MAAM,CAACC,QAAP,CAAgBe,SAAjB,EAA4B,CAACC,KAAD,YAA6B;EAAA,IAArB;IAAEC,OAAO,EAACP;EAAV,CAAqB;EAC5DM,KAAK,CAACP,SAAN,GAAkB,KAAlB;EACAO,KAAK,CAACN,IAAN,GAAaA,IAAb;AACH,CAHM,CAAP;AAIAI,OAAO,CAACf,MAAM,CAACC,QAAP,CAAgBkB,QAAjB,EAA2B,CAACF,KAAD,YAAqC;EAAA,IAA7B;IAAEC,OAAO,EAACE;EAAV,CAA6B;EACnEC,KAAK,CAAC,OAAD,EAAUD,YAAV,CAAL;EACAH,KAAK,CAACP,SAAN,GAAkB,KAAlB;AACH,CAHM,CAAP;AAIAK,OAAO,CAACf,MAAM,CAACC,QAAP,CAAgBqB,OAAjB,EAA2BL,KAAD,IAAW;EACxCA,KAAK,CAACP,SAAN,GAAkB,IAAlB;AACH,CAFM,CAAP;AAGAK,OAAO,CAACf,MAAM,CAACK,KAAP,CAAaW,SAAd,EAAyB,CAACC,KAAD,YAA6B;EAAA,IAArB;IAAEC,OAAO,EAACP;EAAV,CAAqB;EACzDM,KAAK,CAACP,SAAN,GAAkB,KAAlB;EACAO,KAAK,CAACN,IAAN,GAAaA,IAAb;AACH,CAHM,CAAP;AAIAI,OAAO,CAACf,MAAM,CAACK,KAAP,CAAac,QAAd,EAAwB,CAACF,KAAD,YAAqC;EAAA,IAA7B;IAAEC,OAAO,EAACE;EAAV,CAA6B;EAChEC,KAAK,CAAC,OAAD,EAAUD,YAAV,CAAL;EACAH,KAAK,CAACP,SAAN,GAAkB,KAAlB;AACH,CAHM,CAAP;AAIAK,OAAO,CAACf,MAAM,CAACK,KAAP,CAAaiB,OAAd,EAAwBL,KAAD,IAAW;EACrCA,KAAK,CAACP,SAAN,GAAkB,IAAlB;AACH,CAFM,CAAP"},"metadata":{},"sourceType":"module"}